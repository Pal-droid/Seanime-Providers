/* FEED LIST */
#activity-stories-feed { width: 100%; padding: 15px 0; background: rgba(255,255,255,0.03); border-radius: 12px; margin-bottom: 20px; }
.stories-container { display: flex; gap: 18px; overflow-x: auto; padding: 0 15px; scrollbar-width: none; }
.story-item { flex: 0 0 70px; text-align: center; cursor: pointer; }
.story-item span { font-size: 11px; color: #9CA3AF; margin-top: 6px; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* RING & IMAGE LAYERING */
.ring-wrap { 
    position: relative; 
    width: 70px; 
    height: 70px; 
    display: block !important; 
    margin: 0 auto;
}

.story-svg { 
    position: absolute !important;
    top: 0;
    left: 0;
    width: 70px !important;
    height: 70px !important;
    z-index: 99 !important; 
    pointer-events: none;
    overflow: visible;
}

.ring-wrap img { 
    position: absolute;
    top: 7px; 
    left: 7px;
    width: 56px; 
    height: 56px; 
    border-radius: 50%; 
    object-fit: cover; 
    z-index: 1 !important; 
}

/* VIEWER OVERLAY CORE */
#story-viewer-overlay { position: fixed; inset: 0; z-index: 9999; display: none; background: #000; }
#story-viewer-overlay.active { display: flex; }
.sv-body { flex: 1; display: flex; align-items: center; justify-content: center; position: relative; }

/* HITBOXES (Mobile Friendly) */
.nav-zone { position: absolute; top: 0; bottom: 0; width: 40%; z-index: 10; } /* Lower than buttons */
.nav-zone.left { left: 0; }
.nav-zone.right { right: 0; }

/* REDIRECT BUTTON */
.sv-card-wrapper { position: relative; width: 85%; max-width: 380px; z-index: 20; border-radius: 12px; }
.sv-card-img { width: 100%; border-radius: 12px; box-shadow: 0 15px 50px rgba(0,0,0,0.6); display: block; }

.sv-redirect-btn { 
    position: absolute; top: 12px; right: 12px; 
    background: transparent !important; 
    border: 2px solid rgba(255,255,255,0.6) !important; 
    color: white !important;
    width: 40px; height: 40px; border-radius: 50%; cursor: pointer; 
    display: flex; align-items: center; justify-content: center; font-size: 18px;
    z-index: 30; /* Higher than nav-zone to be clickable */
    backdrop-filter: blur(8px);
}

/* REPLIES & FOOTER */
.sv-replies-panel {
    position: absolute; right: -100%; top: 0; bottom: 0; width: 85%; 
    background: rgba(0,0,0,0.95); z-index: 100; transition: right 0.3s ease;
    overflow-y: auto; padding: 20px; color: #fff;
}
.sv-replies-panel.active { right: 0; }
.sv-reply-item { display: flex; gap: 10px; margin-bottom: 15px; text-align: left; }
.sv-reply-item img { width: 30px; height: 30px; border-radius: 50%; }
.sv-reply-item strong { display: block; font-size: 12px; color: #3DB4F2; }

.sv-footer { position: relative; z-index: 50; padding: 20px; background: linear-gradient(to top, #000, transparent); }
